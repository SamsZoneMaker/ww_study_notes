author: Sam [desen.li@wisewavetech.com]

---

## Chips architecture

### Definition

* 架构是指设计和组织芯片内部各个模块及其交互方式的整体框架或布局。
* 芯片的架构是芯片设计中的关键阶段，定义芯片的整体功能、模块、划分、运行逻辑以及性能、功耗和成本。
* 芯片架构的设计主要服务于满足特定应用的需求，提供优化的硬件解决方案。



### 可实现功能

1. **控制功能**：
   * 控制数据流的方向和模块之间的协同。
   * 运行操作系统或指令集架构（ISA）支持的软件逻辑。
2. **计算功能**：
   - 提供算术和逻辑运算能力，例如在CPU或GPU中。
   - 执行各种算法，如AI加速器中用于机器学习模型推理的矩阵计算。
3. **数据存储和传输功能**：
   - 提供临时数据存储的能力（如寄存器、缓存、存储控制器）。
   - 实现高速的数据传输通道（如总线、内存控制器和I/O接口）。
4. **信号处理**：
   - 处理模拟信号和数字信号的转换（如ADC/DAC模块）。
   - 适用于通信和音频视频处理等应用。
5. **功耗优化**：
   - 确保在性能要求下实现最低的功耗，延长设备续航或减少能耗。

### 用途

* 功能实现：明确芯片需要完成的任务（如处理数据、通信、存储等）。
* 指令执行：定义CPU如何获取、解码和执行指令
* 数据处理：规定数据在处理器内部如何流动和处理
* 内存管理：控制数据和指令在内存层次结构中的存储和访问
* 接口控制：管理与外部设备和组件的通信
* 性能优化：通过架构设计，优化功耗、速度、吞吐量、延迟等性能指标。
* 模块划分：将功能需求分解为不同的模块，明确每个模块的功能、接口和交互方式。
* 资源管理：合理分配芯片内的硬件资源（如存储、计算单元、I/O 资源等）。
* 成本控制：通过设计合理的架构，优化芯片面积、材料和制造成本。

### 核心组件构成

* 控制单元：负责指令的获取和解码

* 算术逻辑单元(ALU)：执行数学运算和逻辑运算

* 寄存器组：用于临时存储数据和指令

* 缓存系统：提供快速的数据访问

* 总线系统：连接各个组件的数据通路

### 架构的类型（常见）

- **RISC**(精简指令集计算机)
  * 特点：指令长度固定、寄存器数量多
  * 优势：执行速度快、功耗低
  * 代表：ARM架构、RISC-V
- **CISC** (复杂指令集计算机)
  - 特点：指令长度可变、指令功能复杂
  - 优势：代码密度高、向后兼容性好
  - 代表：x86架构

### 常用性能考量因素

* 时钟频率：影响指令执行速度
* IPC (每时钟周期指令数)：衡量并行度 
* 功耗效率：影响散热和能耗
* 面积效率：影响成本和集成度
* 待补充......

### 架构目标

架构设计是为了实现芯片的特定功能，这些功能因芯片类型而异。以下是不同类型芯片的架构目标：

1. **处理器芯片（CPU、GPU、NPU）**
   * 指令执行：设计指令集架构（ISA）和流水线，优化指令执行效率。

   * 并行计算：支持多核架构、向量化计算或硬件加速。

   * 缓存优化：设计多级缓存结构以提高内存访问效率。

   * 功耗优化：动态调整频率与电压以减少能耗。

2. **通信芯片（5G 基带、网络芯片）**
   * 数据处理：支持高速数据包的解析、转发和加密。
   * 协议实现：实现特定的通信协议（如 TCP/IP、5G NR）。
   * 高吞吐量：设计多线程或流水线架构提高数据吞吐能力。
   * 低延迟：优化数据路径以实现实时通信。
   
3. **存储芯片（DRAM、Flash、SSD 控制器）**
   * 存储管理：设计高效的读写控制逻辑。
   * 数据完整性：支持纠错码（ECC）等技术提高数据可靠性。
   * 功耗优化：降低闲置状态的能耗。
   
4. **AI 芯片（深度学习加速器）**
   * 矩阵计算：设计矩阵乘法和卷积加速单元。
   * 数据流优化：最大化计算单元的利用率，减少数据移动。
   * 扩展性：支持模型的灵活加载和高效推理。

- 



### **SerDes芯片的应用场景**

1. **高速通信设备**：
   - 数据中心服务器、路由器、交换机。
   - 支持PCIe、以太网（10G/40G/100G/400G）等通信协议。
2. **消费类电子产品：**
   - HDMI、DisplayPort等接口，用于显示设备。
3. **存储设备：**
   - NVMe SSD，SATA等高速存储接口。
4. **汽车电子：**
   - 汽车内部通信协议（如MIPI、车载以太网）。
5. **5G和AI领域：**
   - 用于基站和AI加速器内部的数据通信。
